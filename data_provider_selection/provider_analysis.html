
<html>
<head>
    <title>FX Data Provider Analysis</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        h1, h2, h3 { color: #2c3e50; }
        table { border-collapse: collapse; margin: 20px 0; width: 100%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: right; }
        th { background-color: #f5f5f5; }
        td:first-child, th:first-child { text-align: left; }
        section { margin-bottom: 40px; }
    </style>
</head>
<body>

<h1>FX Tick Data Provider Analysis</h1>

<section>
<h2>Overview</h2>
<p>
This report evaluates FX tick data quality across three providers (A, B, C) using:
<ul>
<li>Schema and currency validation</li>
<li>Market sanity (crossed prices)</li>
<li>Microstructure quality (spreads)</li>
<li>Continuity and duplication</li>
</ul>
</p>
</section>

<section>
<h2>Provider-Level Summary</h2>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>provider</th>
      <th>rows</th>
      <th>pairs</th>
      <th>start</th>
      <th>end</th>
      <th>invalid_price_rate</th>
      <th>median_spread</th>
      <th>median_rel_bps</th>
      <th>p95_rel_bps</th>
      <th>avg_pct_gaps_gt_1s</th>
      <th>median_gap_s_over_pairs</th>
      <th>duplicate_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A</td>
      <td>6847154</td>
      <td>3</td>
      <td>2023-11-30 23:59:58</td>
      <td>2024-02-29 23:59:59</td>
      <td>0.0000</td>
      <td>0.0090</td>
      <td>0.6440</td>
      <td>1.2402</td>
      <td>0.3757</td>
      <td>1.0000</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>B</td>
      <td>6847154</td>
      <td>3</td>
      <td>2023-11-30 23:59:58</td>
      <td>2024-02-29 23:59:59</td>
      <td>0.1851</td>
      <td>0.1300</td>
      <td>8.5847</td>
      <td>13.7461</td>
      <td>0.3757</td>
      <td>1.0000</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>C</td>
      <td>4689657</td>
      <td>3</td>
      <td>2023-12-01 00:00:00</td>
      <td>2024-02-29 23:59:59</td>
      <td>0.0000</td>
      <td>0.0250</td>
      <td>1.6934</td>
      <td>2.8496</td>
      <td>0.5361</td>
      <td>2.0000</td>
      <td>0.0000</td>
    </tr>
  </tbody>
</table>
</section>

<section>
<h2>Per-Currency Pair Spread Analysis</h2>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>provider</th>
      <th>currency_pair</th>
      <th>rows</th>
      <th>median_rel_bps</th>
      <th>p95_rel_bps</th>
      <th>invalid_price_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A</td>
      <td>AUDJPY</td>
      <td>1934198</td>
      <td>0.9249</td>
      <td>1.4505</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>A</td>
      <td>EURJPY</td>
      <td>2629256</td>
      <td>0.6881</td>
      <td>1.1289</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>A</td>
      <td>USDJPY</td>
      <td>2283700</td>
      <td>0.4154</td>
      <td>0.6905</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>B</td>
      <td>AUDJPY</td>
      <td>1934198</td>
      <td>13.4266</td>
      <td>14.0631</td>
      <td>0.1850</td>
    </tr>
    <tr>
      <td>B</td>
      <td>EURJPY</td>
      <td>2629256</td>
      <td>8.2761</td>
      <td>8.8449</td>
      <td>0.1852</td>
    </tr>
    <tr>
      <td>B</td>
      <td>USDJPY</td>
      <td>2283700</td>
      <td>8.6755</td>
      <td>9.1758</td>
      <td>0.1849</td>
    </tr>
    <tr>
      <td>C</td>
      <td>AUDJPY</td>
      <td>1323081</td>
      <td>2.5678</td>
      <td>3.1196</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>C</td>
      <td>EURJPY</td>
      <td>1803397</td>
      <td>1.6840</td>
      <td>2.1384</td>
      <td>0.0000</td>
    </tr>
    <tr>
      <td>C</td>
      <td>USDJPY</td>
      <td>1563179</td>
      <td>1.5174</td>
      <td>1.7906</td>
      <td>0.0000</td>
    </tr>
  </tbody>
</table>
</section>

<section>
<h2>Key Observations</h2>
<ul>
<li>Lower relative spreads indicate better pricing quality.</li>
<li>Invalid price rate highlights crossed or locked markets.</li>
<li>Gaps &gt; 1 second indicate weaker tick continuity.</li>
<li>Duplicate rate shows potential replayed ticks.</li>
</ul>
</section>

<section>
<h2>Conclusion</h2>
<p>
Based on pricing sanity, spread tightness, and continuity metrics, Provider A
demonstrates superior data quality in the sampled dataset.
</p>
</section>

</body>
</html>
